function showThumb(t){jQuery("#"+t[0].id).css("background","#000 url("+t[0].thumbnail_large+") center center no-repeat"),lazyload_video_settings.vimeo.show_title&&jQuery("#"+t[0].id).children().children(".titletext.vimeo").text(t[0].title)}!function(t,$,e){function n(){$(i).parent().removeClass(l)}var o="preview-youtube",i="."+o,a="lazyload-info-icon",r="."+a,l="js-lazyload--not-loaded",c=.5625,d="";t.init=function(t){u(t),$(document).ready(p()).ajaxStop(function(){p()}),"function"==typeof f.init&&s.responsive===!0?f.init():n(),"function"==typeof s.callback&&s.callback()};var s,u=function(t){s=$.extend({theme:"dark",colour:"red",controls:!0,loadpolicy:!0,showinfo:!0,relations:!0,buttonstyle:"",preroll:"",postroll:"",videoseo:!1,responsive:!0,thumbnailquality:"0",displaybranding:!1,callback:null},t)},p=function(){$("a.lazy-load-youtube").each(function(t){var n=$(this),i=n.attr("href"),l,u="";!function M(){l=i.split("/embed/")[1],l||(l=i.split("://youtu.be/")[1]),l||(l=i.split("v=")[1].replace(/\&/,"?"))}();var p=l.split("?")[0].split("#")[0];!function P(){u=s.preroll!==e&&s.preroll!==u?s.preroll:l}();var v="//www.youtube.com/embed/"+u,h=function(){return'<a class="'+a+'" href="//kevinw.de/lazy-load-videos/" title="Lazy Load for Videos by Kevin Weber" target="_blank">i</a>'},m=function(){if(s.displaybranding===!0&&0===n.siblings(r).length){var t=n,e=$(h());t.before(e)}};m();var y=function(){return n.attr("video-title")!==e?n.attr("video-title"):n.attr("data-video-title")!==e?n.attr("data-video-title"):n.html()!==e&&""!==n.html()?n.html():""},b=function(t){return"//www.youtube.com/watch?v="+t},g=function(t){var e=parseInt(t.css("width"))-4;return e},w=function(t){var e=0;if(s.responsive===!1)e=parseInt(t.css("height"))-4;else{var n=g(t);e=Math.round(n*c)}return e},z=0,k=[3600,60,1],_=l.match(/[#&?]t=(?:(\d+)(?:h))?(?:(\d+)(?:m))?(?:(\d+)(?:s))?/);if(_)for(var x=1;x<_.length;x++)"undefined"!=typeof _[x]&&(z+=parseInt(_[x])*k[x-1]);0===z&&(_=l.match(/[#&?](?:t|start)=(\d+)/),_&&(z=_[1])),l=l.split("#")[0];var j="";z&&0!==z&&-1===l.indexOf("start=")&&(j=(-1===l.indexOf("?")?"?":"&")+"start="+z);var I="";s.videoseo===!0&&(I=' itemprop="name"'),n.html(-1!==l.indexOf("showinfo=0")?"":'<div class="lazy-load-youtube-info"><span class="titletext youtube"'+I+">"+y()+"</span></div>"),n.prepend('<div style="height:'+w(n)+"px;width:"+g(n)+'px;" class="lazy-load-youtube-div"></div>').addClass(s.buttonstyle);var S=function(t){var e="//i2.ytimg.com/vi/"+t+"/"+s.thumbnailquality+".jpg";d=e};S(p);var C=function(){return d},F=function(t){var e=C(),n=$('<img style="display:none" src="'+e+'"/>');n.load(function(){120===n.width()&&(e=e.replace("maxresdefault","0")),"none"===t.css("background-image")&&t.css("background","#000 url("+e+") center center no-repeat"),n.remove()}),$("body").append(n)};F(n),s.videoseo===!0&&(n.append('<meta itemprop="contentLocation" content="'+b(p)+'" />'),n.append('<meta itemprop="embedUrl" content="'+v+'" />'),n.append('<meta itemprop="thumbnail" content="'+C()+'" />'),$.getJSON("//gdata.youtube.com/feeds/api/videos/"+p+"?v=2&alt=jsonc&callback=?",function(t){n.append('<meta itemprop="datePublished" content="'+t.data.uploaded+'" />'),n.append('<meta itemprop="duration" content="'+t.data.duration+'" />'),n.append('<meta itemprop="aggregateRating" content="'+t.data.rating+'" />')})),n.attr("id",p+t),n.attr("href",b(p)+(z?"#t="+z+"s":"")),function W(){var t="",n="",o="",i="",a,r,l,c;s.theme!==e&&s.theme!==t&&"dark"!==s.theme&&(t="&theme="+s.theme),s.colour!==e&&s.colour!==n&&"red"!==s.colour&&(n="&color="+s.colour),a=s.showinfo?"":"&showinfo=0",r=s.relations?"":"&rel=0",l=s.controls?"":"&controls=0",c=s.loadpolicy?"":"&iv_load_policy=3",u=u!==p?p+",":"",s.postroll!==e&&s.postroll!==o&&(o=s.postroll),(""!==u||""!==o)&&(i="&playlist="+u+o),v+=(-1===v.indexOf("?")?"?":"&")+"autoplay=1"+t+n+l+c+a+r+i+j}();var L='<iframe width="'+parseInt(n.css("width"))+'" height="'+parseInt(n.css("height"))+'" style="vertical-align:top;" src="'+v+'" frameborder="0" allowfullscreen></iframe>';$(this).on("click",function(){return O(this),Q(this),$("#"+p+t).replaceWith(L),"function"==typeof f.resize&&s.responsive===!0&&f.resize(),!1});var O=function(t){$(t).removeClass(o)},Q=function(t){$(t).prev(r).remove()}})};$.fn.bindFirst=function(t,e){var n=$(this);n.unbind(t,e),n.bind(t,e);var o=$._data(n[0]).events,i=o[t];i.unshift(i.pop()),o[t]=i};var f={config:{container:$(".container-lazyload"),selector:"object, embed, iframe, .preview-lazyload, .lazy-load-youtube-div, .lazy-load-vimeo-div"},init:function(){f.config.container.length>0&&($(window).on("resize",f.resize),$(window).bindFirst("load",function(){f.resize()}),$(window).on("load",function(){f.resize(),n()}))},resize:function(){$(f.config.selector,f.config.container).each(function(){var t=$(this),e=t.parent().width(),n=Math.round(e*c);t.attr("height",n),t.attr("width",e),t.css({height:n,width:e})})}};$(function(){t.init(lazyload_video_settings.youtube)})}(window.lazyload_youtube=window.lazyload_youtube||{},jQuery),function(t,$,e){function n(){$(a).parent().removeClass(c)}function o(){g(),f(),v()}var i="preview-vimeo",a="."+i,r="lazyload-info-icon",l="."+r,c="js-lazyload--not-loaded",d=.5625;t.init=function(t){u(t),$(document).ready(o()).ajaxStop(function(){o()}),"function"==typeof x.init&&s.responsive===!0?x.init():n(),"function"==typeof s.callback&&s.callback()};var s,u=function(t){s=$.extend({buttonstyle:"",playercolour:"",videoseo:!1,responsive:!0,displayBranding:!1,callback:null},t)},p=function(){return'<a class="'+r+'" href="//kevinw.de/lazy-load-videos/" title="Lazy Load for Videos by Kevin Weber" target="_blank">i</a>'},f=function(){if(s.displayBranding===!0&&0===$(a).siblings(l).length){var t=$(a),e=$(p());t.before(e)}},v=function(){$(a).on("click",function(){var t=_(this);h(this),m(this);var e="";s.playercolour!==e&&(s.playercolour=b(s.playercolour),e="&color="+s.playercolour),$(this).html('<iframe src="'+y(t)+"?autoplay=1"+e+'" style="height:'+parseInt($("#"+t).css("height"))+'px;width:100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen autoPlay allowFullScreen></iframe>'),"function"==typeof x.resize&&s.responsive===!0&&x.resize()})},h=function(t){$(t).removeClass(i)},m=function(t){$(t).prev(l).remove()},y=function(t){return"//player.vimeo.com/video/"+t},b=function(t){var e=t.toString().replace(/[.#]/g,"");return e},g=function(){$(a).each(function(){var t=_(this),e=$(this);e.empty(),w(t)})},w=function(t){var e=k(t)+".json?callback=showThumb",n=document.createElement("script");n.type="text/javascript",n.src=e;var o="";s.videoseo===!0&&(o=' itemprop="name"'),$("#"+t).prepend(n).prepend('<div style="height:'+parseInt($("#"+t).css("height"))+"px;width:"+parseInt($("#"+t).css("width"))+'px;" class="lazy-load-vimeo-div"><span class="titletext vimeo"'+o+"></span></div>").addClass(s.buttonstyle),z(t)},z=function(t){s.videoseo===!0&&$.getJSON(k(t)+"?callback=?",{format:"json"},function(e){$("#"+t).append('<meta itemprop="contentLocation" content="'+e[0].url+'" />'),$("#"+t).append('<meta itemprop="embedUrl" content="'+y(t)+'" />'),$("#"+t).append('<meta itemprop="thumbnail" content="'+e[0].thumbnail_large+'" />'),$("#"+t).append('<meta itemprop="datePublished" content="'+e[0].upload_date+'" />'),$("#"+t).append('<meta itemprop="duration" content="'+e[0].duration+'" />'),$("#"+t).append('<meta itemprop="aggregateRating" content="'+e.data.rating+'" />')})},k=function(t){return"//vimeo.com/api/v2/video/"+t+".json"},_=function(t){var e=$(t).attr("id");return e};$.fn.bindFirst=function(t,e){var n=$(this);n.unbind(t,e),n.bind(t,e);var o=$._data(n[0]).events,i=o[t];i.unshift(i.pop()),o[t]=i};var x={config:{container:$(".container-lazyload"),selector:"object, embed, iframe, .preview-lazyload, .lazy-load-youtube-div, .lazy-load-vimeo-div"},init:function(){x.config.container.length>0&&($(window).on("resize",x.resize),$(window).bindFirst("load",function(){x.resize()}),$(window).on("load",function(){x.resize(),n()}))},resize:function(){$(x.config.selector,x.config.container).each(function(){var t=$(this),e=t.parent().width(),n=Math.round(e*d);t.attr("height",n),t.attr("width",e),t.css({height:n,width:e})})}};$(function(){t.init(lazyload_video_settings.vimeo)})}(window.lazyload_vimeo=window.lazyload_vimeo||{},jQuery);