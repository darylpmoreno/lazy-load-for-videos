!function(t,$,e){var o="preview-youtube",n="lazyload-info-icon",i="."+n,a=.5625,r="";t.init=function(t){s(t),$(document).ready(c()).ajaxStop(function(){c()}),"function"==typeof d.init&&l.responsive===!0&&d.init(),"function"==typeof l.callback&&l.callback()};var l,s=function(t){l=$.extend({theme:"dark",colour:"red",controls:!0,loadpolicy:!0,showinfo:!0,relations:!0,buttonstyle:"",preroll:"",postroll:"",videoseo:!1,responsive:!0,thumbnailquality:"0",displaybranding:!1,callback:null},t)},c=function(){$("a.lazy-load-youtube").each(function(t){var s=$(this),c=s.attr("href"),u,p="";!function S(){u=c.split("/embed/")[1],u||(u=c.split("://youtu.be/")[1]),u||(u=c.split("v=")[1].replace(/\&/,"?"))}();var f=u.split("?")[0].split("#")[0];!function W(){p=l.preroll!==e&&l.preroll!==p?l.preroll:u}();var h="//www.youtube.com/embed/"+p,v=function(){return'<a class="'+n+'" href="//kevinw.de/lazy-load-videos/" title="Lazy Load for Videos by Kevin Weber" target="_blank">i</a>'},m=function(){if(l.displaybranding===!0&&0===s.siblings(i).length){var t=s,e=$(v());t.before(e)}};m();var y=function(){return s.attr("video-title")!==e?s.attr("video-title"):s.html()!==e&&""!==s.html()?s.html():""},b=function(t){return"//www.youtube.com/watch?v="+t},g=function(t){var e=parseInt(t.css("width"))-4;return e},w=function(t){var e=0;if(l.responsive===!1)e=parseInt(t.css("height"))-4;else{var o=g(t);e=Math.round(o*a)}return e},z=0,k=[3600,60,1],x=u.match(/[#&?]t=(?:(\d+)(?:h))?(?:(\d+)(?:m))?(?:(\d+)(?:s))?/);if(x)for(var _=1;_<x.length;_++)"undefined"!=typeof x[_]&&(z+=parseInt(x[_])*k[_-1]);0===z&&(x=u.match(/[#&?](?:t|start)=(\d+)/),x&&(z=x[1])),u=u.split("#")[0];var j="";z&&0!==z&&-1===u.indexOf("start=")&&(j=(-1===u.indexOf("?")?"?":"&")+"start="+z);var I="";l.videoseo===!0&&(I=' itemprop="name"'),s.html(-1!==u.indexOf("showinfo=0")?"":'<div class="lazy-load-youtube-info"><span class="titletext youtube"'+I+">"+y()+"</span></div>"),s.prepend('<div style="height:'+w(s)+"px;width:"+g(s)+'px;" class="lazy-load-youtube-div"></div>').addClass(l.buttonstyle);var O=function(t){var e="//i2.ytimg.com/vi/"+t+"/"+l.thumbnailquality+".jpg";r=e};O(f);var L=function(){return r},q=function(t){var e=L(),o=$('<img style="display:none" src="'+e+'"/>');o.load(function(){console.log(e),120===o.width()&&(e=e.replace("maxresdefault","0")),"none"===t.css("background-image")&&t.css("background","#000 url("+e+") center center no-repeat"),o.remove()}),$("body").append(o)};q(s),l.videoseo===!0&&(s.append('<meta itemprop="contentLocation" content="'+b(f)+'" />'),s.append('<meta itemprop="embedUrl" content="'+h+'" />'),s.append('<meta itemprop="thumbnail" content="'+L()+'" />'),$.getJSON("//gdata.youtube.com/feeds/api/videos/"+f+"?v=2&alt=jsonc&callback=?",function(t){s.append('<meta itemprop="datePublished" content="'+t.data.uploaded+'" />'),s.append('<meta itemprop="duration" content="'+t.data.duration+'" />'),s.append('<meta itemprop="aggregateRating" content="'+t.data.rating+'" />')})),s.attr("id",f+t),s.attr("href",b(f)+(z?"#t="+z+"s":"")),function J(){var t="",o="",n="",i="",a,r,s,c;l.theme!==e&&l.theme!==t&&"dark"!==l.theme&&(t="&theme="+l.theme),l.colour!==e&&l.colour!==o&&"red"!==l.colour&&(o="&color="+l.colour),a=l.showinfo?"":"&showinfo=0",r=l.relations?"":"&rel=0",s=l.controls?"":"&controls=0",c=l.loadpolicy?"":"&iv_load_policy=3",p=p!==f?f+",":"",l.postroll!==e&&l.postroll!==n&&(n=l.postroll),(""!==p||""!==n)&&(i="&playlist="+p+n),h+=(-1===h.indexOf("?")?"?":"&")+"autoplay=1"+t+o+s+c+a+r+i+j}();var C='<iframe width="'+parseInt(s.css("width"))+'" height="'+parseInt(s.css("height"))+'" style="vertical-align:top;" src="'+h+'" frameborder="0" allowfullscreen></iframe>';$(this).on("click",function(){return F(this),M(this),$("#"+f+t).replaceWith(C),"function"==typeof d.resize&&l.responsive===!0&&d.resize(),!1});var F=function(t){$(t).removeClass(o)},M=function(t){$(t).prev(i).remove()}})};$.fn.bindFirst=function(t,e){var o=$(this);o.unbind(t,e),o.bind(t,e);var n=$._data(o[0]).events,i=n[t];i.unshift(i.pop()),n[t]=i};var d={config:{container:$(".container-lazyload"),selector:"object, embed, iframe, .preview-lazyload, .lazy-load-youtube-div, .lazy-load-vimeo-div"},init:function(){d.config.container.length>0&&($(window).on("resize",d.resize),$(window).bindFirst("load",function(){d.resize()}),$(window).on("load",function(){d.resize()}))},resize:function(){$(d.config.selector,d.config.container).each(function(){var t=$(this),e=t.parent().width(),o=Math.round(e*a);t.attr("height",o),t.attr("width",e),t.css({height:o,width:e})})}};$(function(){t.init(lazyload_video_settings.youtube)})}(window.lazyload_youtube=window.lazyload_youtube||{},jQuery);