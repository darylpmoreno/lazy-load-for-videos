{"version":3,"file":"js/lazyload-youtube.js","sources":["webpack:///js/lazyload-youtube.js"],"sourcesContent":["!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=4)}([function(t,e,n){\"use strict\";e.a=function(t){t&&(t.fn.bindFirst=function(e,n){var o=t(this);o.unbind(e,n),o.bind(e,n);var a=t._data(o[0]).events,r=a[e];r.unshift(r.pop()),a[e]=r})}},function(t,e,n){\"use strict\";function o(t){(document.attachEvent?\"complete\"===document.readyState:\"loading\"!==document.readyState)?t():document.addEventListener(\"DOMContentLoaded\",t)}n.d(e,\"a\",function(){return o})},,,function(t,e,n){\"use strict\";n.r(e);var o=n(0),a=n(1);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,a=!1,r=void 0;try{for(var c,i=t[Symbol.iterator]();!(o=(c=i.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(t){a=!0,r=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw r}}return n}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var c,i=window.jQuery||window.$,l=\"preview-youtube\",d=\".\".concat(l),u=\"lazyload-info-icon\",s=\".\".concat(u),p=\"js-lazyload--not-loaded\",f=.5625,v=\"\";function m(){i(d).parent().removeClass(p)}var h={config:{container:\".container-lazyload\",selector:\"object, embed, iframe, .preview-lazyload, .lazy-load-div\"},init:function(){h.config.container.length>0&&(i(window).on(\"resize\",h.resize),i(window).bindFirst(\"load\",function(){h.resize()}),i(window).on(\"load\",function(){h.resize(),m()}))},resize:function(){i(h.config.container).find(h.config.selector).each(function(t,e){var n=i(e),o=n.parent().width(),a=Math.round(o*f);n.attr(\"height\",a),n.attr(\"width\",o),n.css({height:a,width:o})})}};function y(){i(\"a.lazy-load-youtube\").each(function(t,e){var n,o,a=i(e),d=a.attr(\"href\"),p=(o=\"\",(o=r((n=d).split(\"/embed/\"),2)[1])||(o=r(n.split(\"://youtu.be/\"),2)[1]),o||(o=n.split(\"v=\")[1].replace(/&/,\"?\")),o),m=p.split(\"?\")[0].split(\"#\")[0],y=\"https://www.youtube.com/embed/\".concat(function(t,e){return void 0!==c.preroll&&c.preroll!==t?c.preroll:e}(\"\",p));function b(t){return\"https://www.youtube.com/watch?v=\".concat(t)}function g(t){return parseInt(t.css(\"width\"),10)-4}!function(){if(!0===c.displaybranding&&0===a.siblings(s).length){var t=a,e=i('<a class=\"'.concat(u,'\" href=\"https://www.kweber.com/lazy-load-videos/\" title=\"Lazy Load for Videos by Kevin Weber\" target=\"_blank\">i</a>'));t.before(e)}}();var w=0,z=[3600,60,1],j=p.match(/[#&?]t=(?:(\\d+)(?:h))?(?:(\\d+)(?:m))?(?:(\\d+)(?:s))?/);if(j)for(var x=1;x<j.length;x+=1)void 0!==j[x]&&(w+=parseInt(j[x],10)*z[x-1]);0===w&&((j=p.match(/[#&?](?:t|start)=(\\d+)/))&&(w=r(j,2)[1]));var O=p.split(\"#\");p=r(O,1)[0];var k=\"\";w&&0!==w&&-1===p.indexOf(\"start=\")&&(k=\"\".concat(-1===p.indexOf(\"?\")?\"?\":\"&\",\"start=\").concat(w));var _,S,M,I,P=\"\";function L(){return v}!0===c.videoseo&&(P=' itemprop=\"name\"'),-1!==p.indexOf(\"showinfo=0\")?a.html(\"\"):a.html('<div aria-hidden=\"true\" class=\"lazy-load-info\"><span class=\"titletext youtube\"'.concat(P,\">\").concat(void 0!==a.attr(\"data-video-title\")?a.attr(\"data-video-title\"):void 0!==a.html()&&\"\"!==a.html()?a.html():\"\",\"</span></div>\")),a.prepend('<div aria-hidden=\"true\" style=\"height:'.concat(function(t){var e=0;if(!1===c.responsive)e=parseInt(t.css(\"height\"),10)-4;else{var n=g(t);e=Math.round(n*f)}return e}(a),\"px;width:\").concat(g(a),'px;\" class=\"lazy-load-div\"></div>')).addClass(c.buttonstyle),_=\"https://i2.ytimg.com/vi/\".concat(m,\"/\").concat(c.thumbnailquality,\".jpg\"),v=_,c.loadthumbnail&&(S=a,M=L(),(I=i('<img style=\"display:none\" src=\"'.concat(M,'\"/>'))).load(function(){120===I.width()&&(M=M.replace(\"maxresdefault\",\"0\")),\"none\"===S.css(\"background-image\")&&S.css(\"background-image\",\"url(\".concat(M,\")\")).css(\"background-color\",\"#000\").css(\"background-position\",\"center center\").css(\"background-repeat\",\"no-repeat\"),I.remove()}),i(\"body\").append(I)),!0===c.videoseo&&(a.append('<meta itemprop=\"contentLocation\" content=\"'.concat(b(m),'\" />')),a.append('<meta itemprop=\"embedUrl\" content=\"'.concat(y,'\" />')),a.append('<meta itemprop=\"thumbnail\" content=\"'.concat(L(),'\" />')),i.getJSON(\"https://gdata.youtube.com/feeds/api/videos/\".concat(m,\"?v=2&alt=jsonc&callback=?\"),function(t){a.append('<meta itemprop=\"datePublished\" content=\"'.concat(t.data.uploaded,'\" />')),a.append('<meta itemprop=\"duration\" content=\"'.concat(t.data.duration,'\" />')),a.append('<meta itemprop=\"aggregateRating\" content=\"'.concat(t.data.rating,'\" />'))})),a.attr(\"id\",m+t),a.attr(\"href\",b(m)+(w?\"#t=\".concat(w,\"s\"):\"\"));var C=function(t,e,n,o){var a=\"\",r=\"\",i=\"\",l=\"\",d=t;void 0!==c.theme&&c.theme!==a&&\"dark\"!==c.theme&&(a=\"&theme=\".concat(c.theme)),void 0!==c.colour&&c.colour!==r&&\"red\"!==c.colour&&(r=\"&color=\".concat(c.colour));var u=c.showinfo?\"\":\"&showinfo=0\",s=c.relations?\"\":\"&rel=0\",p=c.controls?\"\":\"&controls=0\",f=c.loadpolicy?\"\":\"&iv_load_policy=3\",v=c.modestbranding?\"&modestbranding=1\":\"\";return d=t!==e?\"\".concat(e,\",\"):\"\",void 0!==c.postroll&&c.postroll!==i&&(i=c.postroll),\"\"===t&&\"\"===i||(l=\"&playlist=\".concat(d).concat(i)),\"\".concat(n).concat(-1===n.indexOf(\"?\")?\"?\":\"&\",\"autoplay=1\").concat(a).concat(r).concat(p).concat(f).concat(v).concat(u).concat(s).concat(l).concat(o)}(\"\",m,y,k),E='<iframe width=\"'.concat(parseInt(a.css(\"width\"),10),'\" height=\"').concat(parseInt(a.css(\"height\"),10),'\" style=\"vertical-align:top;\" src=\"').concat(C,'\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>');a.on(\"click\",function(e){e.preventDefault();var n=e.target;return i(n).removeClass(l),function(t){i(t).prev(s).remove()}(n),i(\"#\".concat(m).concat(t)).replaceWith(E),\"function\"==typeof h.resize&&!0===c.responsive&&h.resize(),!1})})}var b=function(t){!function(t){c=i.extend({theme:\"dark\",colour:\"red\",controls:!0,loadpolicy:!0,modestbranding:!1,showinfo:!0,relations:!0,buttonstyle:\"\",preroll:\"\",postroll:\"\",videoseo:!1,responsive:!0,thumbnailquality:\"0\",displaybranding:!1,loadthumbnail:!0,callback:null},t)}(t),i(document).ready(y()).ajaxStop(function(){y(),\"function\"==typeof h.resize&&!0===c.responsive&&h.resize(),m()}),\"function\"==typeof h.init&&!0===c.responsive?h.init():m(),\"function\"==typeof c.callback&&c.callback()};e.default=function(){Object(a.a)(function(){Object(o.a)(window.jQuery),b(lazyload_video_settings.youtube)})}}]);"],"mappings":"AAAA","sourceRoot":""}